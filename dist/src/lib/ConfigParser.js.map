{"version":3,"file":"ConfigParser.js","sourceRoot":"","sources":["../../../src/lib/ConfigParser.ts"],"names":[],"mappings":";;AAAA,iEAAmD;AACnD,wEAAqE;AACrE,4EAAyE;AACzE,2EAAwE;AAGxE;IAME,sBAAY,OAAO;QACjB,IAAI,CAAC,SAAS,GAAG,IAAI,iCAAe,CAAC,OAAO,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;IAC5C,CAAC;IAED,4BAAK,GAAL,UAAM,IAAI;QACR,IAAI,UAAU,GAAsB,oCAAW,CAAC,qCAAiB,EAAE,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;QAC3G,OAAO,IAAI,yCAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACjE,CAAC;IAEH,mBAAC;AAAD,CAAC,AAhBD,IAgBC;AAhBY,oCAAY","sourcesContent":["import {deserialize} from 'json-typescript-mapper';\r\nimport {BusybeeUserConfig} from \"../models/config/BusybeeUserConfig\";\r\nimport {BusybeeParsedConfig} from \"../models/config/BusybeeParsedConfig\";\r\nimport {FilePathsConfig} from \"../models/config/parsed/FilePathsConfig\";\r\nimport * as _ from 'lodash';\r\n\r\nexport class ConfigParser {\r\n\r\n  private cmdOpts: any;\r\n  private logLevel: string;\r\n  private filePaths: FilePathsConfig;\r\n\r\n  constructor(cmdOpts) {\r\n    this.filePaths = new FilePathsConfig(cmdOpts);\r\n    this.cmdOpts = Object.assign({}, cmdOpts);\r\n  }\r\n\r\n  parse(mode): BusybeeParsedConfig {\r\n    let userConfig: BusybeeUserConfig = deserialize(BusybeeUserConfig, require(this.filePaths.userConfigFile));\r\n    return new BusybeeParsedConfig(userConfig, this.cmdOpts, mode);\r\n  }\r\n\r\n}\r\n"]}