{"version":3,"file":"Logger.js","sourceRoot":"","sources":["../../src/lib/Logger.ts"],"names":[],"mappings":";;AAAA,0BAA4B;AAE5B;IAQE,gBAAY,IAAI,EAAE,KAAK;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAC5C,IAAI,CAAC,QAAQ,GAAG;YACd,OAAO,EAAE,CAAC;YACV,MAAM,EAAE,CAAC;YACT,MAAM,EAAE,CAAC;YACT,OAAO,EAAE,CAAC;SACX,CAAA;IACH,CAAC;IAEM,iBAAU,GAAjB,UAAkB,GAAG;QACnB,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;IAC7E,CAAC;IAED,4BAAW,GAAX,UAAY,KAAK;QACf,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC9D,CAAC;IAGD,sBAAK,GAAL,UAAM,OAAO,EAAE,MAAc;QAAd,uBAAA,EAAA,cAAc;QAC3B,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IACvC,CAAC;IAED,qBAAI,GAAJ,UAAK,OAAO,EAAE,MAAc;QAAd,uBAAA,EAAA,cAAc;QAC1B,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAED,qBAAI,GAAJ,UAAK,OAAO,EAAE,MAAc;QAAd,uBAAA,EAAA,cAAc;QAC1B,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAED,sBAAK,GAAL,UAAM,OAAO,EAAE,MAAc;QAAd,uBAAA,EAAA,cAAc;QAC3B,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IACvC,CAAC;IAED,sBAAK,GAAL,UAAM,KAAK,EAAE,OAAO,EAAE,MAAM;QAC1B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC;QAAC,CAAC;QAEzC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACX,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAChD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YACpC,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC;gBAC9B,KAAK,GAAM,KAAK,SAAI,IAAI,CAAC,SAAS,MAAG,CAAC;YACxC,CAAC;YACD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACvB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC;gBAC9B,OAAO,CAAC,GAAG,CAAI,KAAK,SAAI,IAAI,CAAC,SAAS,UAAK,OAAS,CAAC,CAAC;YACxD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAI,KAAK,UAAK,OAAS,CAAC,CAAC;YACtC,CAAC;QACH,CAAC;IAEH,CAAC;IAlEuB,kBAAW,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;IAmE3E,aAAC;CAAA,AArED,IAqEC;AArEY,wBAAM","sourcesContent":["import * as _ from 'lodash';\n\nexport class Logger {\n\n  private static readonly validLevels = ['DEBUG', 'INFO', 'WARN', 'ERROR'];\n  private conf: any;\n  private className: string;\n  private logLevel: string;\n  private levelMap: any;\n\n  constructor(conf, clazz) {\n    this.conf = conf;\n    this.className = clazz.constructor.name;\n    this.logLevel = conf.logLevel || 'INFO';\n    this.logLevel = this.logLevel.toUpperCase();\n    this.levelMap = {\n      'DEBUG': 0,\n      'INFO': 1,\n      'WARN': 2,\n      'ERROR': 3\n    }\n  }\n\n  static isLogLevel(val) {\n    return Logger.validLevels.indexOf(val.toUpperCase()) !== -1 ? true : false;\n  }\n\n  passesLevel(level) {\n    return this.levelMap[level] >= this.levelMap[this.logLevel];\n  }\n\n\n  debug(message, pretty = false) {\n    this.write('DEBUG', message, pretty);\n  }\n\n  info(message, pretty = false) {\n    this.write('INFO', message, pretty);\n  }\n\n  warn(message, pretty = false) {\n    this.write('WARN', message, pretty);\n  }\n\n  error(message, pretty = false) {\n    this.write('ERROR', message, pretty);\n  }\n\n  write(level, message, pretty) {\n    if (!this.passesLevel(level)) { return; }\n\n    if (_.isObject(message)) {\n      if (pretty) {\n        message = JSON.stringify(message, null, '\\t');\n      } else {\n        message = JSON.stringify(message);\n      }\n      if (this.logLevel === 'DEBUG') {\n        level = `${level}:${this.className}:`;\n      }\n      console.log(level);\n      console.log(message);\n    } else {\n      if (this.logLevel === 'DEBUG') {\n        console.log(`${level}:${this.className}: ${message}`);\n      } else {\n        console.log(`${level}: ${message}`);\n      }\n    }\n\n  }\n}\n"]}