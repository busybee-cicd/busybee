{"version":3,"file":"variableExports.js","sourceRoot":"","sources":["../../../test/unit/variableExports.ts"],"names":[],"mappings":";;AAAA,2BAAuB;AAGvB,4CAA2C;AAE3C,aAAI,CAAC,2CAA2C,EAAE,UAAC,CAAC;IAClD,IAAM,MAAM,GAAuB,mBAAQ,CAAC,sBAAsB,EAAE,CAAC;IACrE,IAAM,OAAO,GAAoB,mBAAQ,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;IACtE,IAAM,eAAe,GAAG;QACtB,WAAW,EAAE,eAAe;QAC5B,aAAa,EAAE,cAAc;QAC7B,YAAY,EAAE,YAAY;QAC1B,aAAa,EAAE,CAAC;QAChB,aAAa,EAAE,oBAAoB;QACnC,aAAa,EAAE;YACb,KAAK,EAAE,OAAO;SACf;KACF,CAAC;IACF,IAAM,WAAW,GAAO;QACtB,GAAG,EAAE,iCAAiC;QACtC,OAAO,EAAE;YACP,WAAW,EAAE,kBAAkB;SAChC;QACD,EAAE,EAAE;YACF,YAAY,EAAE,iBAAiB;SAChC;QACD,IAAI,EAAE;YACJ,gBAAgB,EAAE,kBAAkB;YACpC,gBAAgB,EAAE,kBAAkB;YACpC,gBAAgB,EAAE,kBAAkB;SACrC;KACF,CAAC;IACF,IAAM,QAAQ,GAAO;QACnB,GAAG,EAAE,gCAAgC;QACrC,OAAO,EAAE;YACP,WAAW,EAAE,cAAc;SAC5B;QACD,EAAE,EAAE;YACF,YAAY,EAAE,YAAY;SAC3B;QACD,IAAI,EAAE;YACJ,gBAAgB,EAAE,CAAC;YACnB,gBAAgB,EAAE,oBAAoB;YACtC,gBAAgB,EAAE;gBAChB,KAAK,EAAE,OAAO;aACf;SACF;KACF,CAAC;IAEF,OAAO,CAAC,yCAAyC,CAAC,WAAW,EAAE,eAAe,CAAC,CAAC;IAEhF,CAAC,CAAC,SAAS,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;AACrC,CAAC,CAAC,CAAC","sourcesContent":["import test from 'ava';\r\nimport { RESTSuiteManager } from \"../../src/managers/RESTSuiteManager\";\r\nimport { BusybeeParsedConfig } from '../../src/models/config';\r\nimport { UnitUtil } from './util/UnitUtil';\r\n\r\ntest(`confirm that requestOpts are susbstituted`, (t) => {\r\n  const config:BusybeeParsedConfig = UnitUtil.getBusybeeParsedConfig();\r\n  const manager:RESTSuiteManager = UnitUtil.getRESTSuiteManager(config);\r\n  const variableExports = {\r\n    myPathValue: 'my-path-value',\r\n    myHeaderValue: 'header value',\r\n    myQueryValue: 'queryValue',\r\n    myNumberValue: 1,\r\n    myStringValue: 'my string property',\r\n    myObjectValue: {\r\n      hello: 'world'\r\n    }\r\n  };\r\n  const requestOpts:any = {\r\n    url: 'http://localhost/#{myPathValue}',\r\n    headers: {\r\n      'my-header': '#{myHeaderValue}',\r\n    },\r\n    qs: {\r\n      'queryParam': '#{myQueryValue}'\r\n    },\r\n    body: {\r\n      'numberProperty': '#{myNumberValue}',\r\n      'stringProperty': '#{myStringValue}',\r\n      'objectProperty': '#{myObjectValue}'\r\n    }\r\n  };\r\n  const expected:any = {\r\n    url: 'http://localhost/my-path-value',\r\n    headers: {\r\n      'my-header': 'header value',\r\n    },\r\n    qs: {\r\n      'queryParam': 'queryValue'\r\n    },\r\n    body: {\r\n      'numberProperty': 1,\r\n      'stringProperty': 'my string property',\r\n      'objectProperty': {\r\n        hello: 'world'\r\n      }\r\n    }\r\n  };\r\n\r\n  manager.processRequestOptsForVariableDeclarations(requestOpts, variableExports);\r\n\r\n  t.deepEqual(requestOpts, expected);\r\n});\r\n"]}