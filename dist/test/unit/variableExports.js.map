{"version":3,"file":"variableExports.js","sourceRoot":"","sources":["../../../test/unit/variableExports.ts"],"names":[],"mappings":";;AAAA,2BAAuB;AAGvB,4CAA2C;AAE3C,aAAI,CAAC,2CAA2C,EAAE,UAAA,CAAC;IACjD,IAAM,MAAM,GAAwB,mBAAQ,CAAC,sBAAsB,EAAE,CAAC;IACtE,IAAM,OAAO,GAAqB,mBAAQ,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;IACvE,IAAM,eAAe,GAAG;QACtB,WAAW,EAAE,eAAe;QAC5B,aAAa,EAAE,cAAc;QAC7B,YAAY,EAAE,YAAY;QAC1B,aAAa,EAAE,CAAC;QAChB,aAAa,EAAE,oBAAoB;QACnC,aAAa,EAAE;YACb,KAAK,EAAE,OAAO;SACf;KACF,CAAC;IACF,IAAM,WAAW,GAAQ;QACvB,GAAG,EAAE,iCAAiC;QACtC,OAAO,EAAE;YACP,WAAW,EAAE,kBAAkB;SAChC;QACD,EAAE,EAAE;YACF,UAAU,EAAE,iBAAiB;SAC9B;QACD,IAAI,EAAE;YACJ,cAAc,EAAE,kBAAkB;YAClC,cAAc,EAAE,kBAAkB;YAClC,cAAc,EAAE,kBAAkB;SACnC;KACF,CAAC;IACF,IAAM,QAAQ,GAAQ;QACpB,GAAG,EAAE,gCAAgC;QACrC,OAAO,EAAE;YACP,WAAW,EAAE,cAAc;SAC5B;QACD,EAAE,EAAE;YACF,UAAU,EAAE,YAAY;SACzB;QACD,IAAI,EAAE;YACJ,cAAc,EAAE,CAAC;YACjB,cAAc,EAAE,oBAAoB;YACpC,cAAc,EAAE;gBACd,KAAK,EAAE,OAAO;aACf;SACF;KACF,CAAC;IAEF,OAAO,CAAC,yCAAyC,CAC/C,WAAW,EACX,eAAe,CAChB,CAAC;IAEF,CAAC,CAAC,SAAS,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;AACrC,CAAC,CAAC,CAAC","sourcesContent":["import test from 'ava';\r\nimport { RESTSuiteManager } from '../../src/managers/RESTSuiteManager';\r\nimport { BusybeeParsedConfig } from '../../src/models/config';\r\nimport { UnitUtil } from './util/UnitUtil';\r\n\r\ntest(`confirm that requestOpts are susbstituted`, t => {\r\n  const config: BusybeeParsedConfig = UnitUtil.getBusybeeParsedConfig();\r\n  const manager: RESTSuiteManager = UnitUtil.getRESTSuiteManager(config);\r\n  const variableExports = {\r\n    myPathValue: 'my-path-value',\r\n    myHeaderValue: 'header value',\r\n    myQueryValue: 'queryValue',\r\n    myNumberValue: 1,\r\n    myStringValue: 'my string property',\r\n    myObjectValue: {\r\n      hello: 'world'\r\n    }\r\n  };\r\n  const requestOpts: any = {\r\n    url: 'http://localhost/#{myPathValue}',\r\n    headers: {\r\n      'my-header': '#{myHeaderValue}'\r\n    },\r\n    qs: {\r\n      queryParam: '#{myQueryValue}'\r\n    },\r\n    body: {\r\n      numberProperty: '#{myNumberValue}',\r\n      stringProperty: '#{myStringValue}',\r\n      objectProperty: '#{myObjectValue}'\r\n    }\r\n  };\r\n  const expected: any = {\r\n    url: 'http://localhost/my-path-value',\r\n    headers: {\r\n      'my-header': 'header value'\r\n    },\r\n    qs: {\r\n      queryParam: 'queryValue'\r\n    },\r\n    body: {\r\n      numberProperty: 1,\r\n      stringProperty: 'my string property',\r\n      objectProperty: {\r\n        hello: 'world'\r\n      }\r\n    }\r\n  };\r\n\r\n  manager.processRequestOptsForVariableDeclarations(\r\n    requestOpts,\r\n    variableExports\r\n  );\r\n\r\n  t.deepEqual(requestOpts, expected);\r\n});\r\n"]}